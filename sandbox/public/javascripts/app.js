// Generated by CoffeeScript 1.6.3
(function() {
  var app, run;

  app = angular.module("sandbox", ["ngRoute"]);

  app.controller("HelpCtrl", function($scope) {
    $scope.header = {
      command: "Command",
      description: "Description"
    };
    return $scope.helper = [
      {
        command: "help",
        description: "See what you are reading now."
      }, {
        command: "clear",
        description: "Revert back to original state."
      }, {
        command: "reload",
        description: "Reload the current page."
      }, {
        command: "posts",
        description: "Redirects to the 'posts' page."
      }
    ];
  });

  app.config(function($routeProvider) {
    return $routeProvider.when("/", {
      templateUrl: "partials/index"
    }).otherwise({
      redirectTo: "/error",
      templateUrl: "partials/404"
    });
  });

  run = function() {
    var check, clear, cmd, help, redirect, sheet;
    cmd = $(".cmd");
    sheet = $(".sheet");
    check = document.getElementsByClassName("cmd")[0].style.width;
    cmd.width((cmd.width() - 26) + "px");
    cmd.focus();
    help = function() {
      cmd.addClass("shift");
      return sheet.addClass("shift");
    };
    clear = function() {
      cmd.removeClass("shift");
      return sheet.removeClass("shift");
    };
    redirect = function(path) {
      return window.location.href = "http://" + window.location.host + "/" + path;
    };
    return cmd.keypress(function(e) {
      var cache, dir, txt;
      if (e.keyCode === 13) {
        txt = cmd.val();
        cmd.val("");
        dir = {
          "up": "top",
          "down": "bottom",
          "left": "left",
          "right": "right"
        };
        if (dir[txt] !== void 0) {
          cache = cmd.css(dir[txt]);
          if (cache === "") {
            cache = 0;
          }
          return cmd.css(dir[txt], (parseFloat(cache) - 100) + "px");
        } else {
          switch (txt) {
            case "help":
              return help();
            case "clear":
              return clear();
            case "reload":
              return document.location.reload(true);
            case "posts":
              return redirect("posts");
          }
        }
      }
    });
  };

  setTimeout(run, 500);

}).call(this);
